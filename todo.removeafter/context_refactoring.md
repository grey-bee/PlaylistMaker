# –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ PlaylistMaker –Ω–∞ MVVM

## –î–∞—Ç–∞: 2025-12-26

## –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ ‚úÖ

1. **CLAUDE.md –æ–±–Ω–æ–≤–ª—ë–Ω** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ ‚Ññ5 –æ –∑–∞–ø—Ä–µ—Ç–µ –≥–æ—Ç–æ–≤–æ–≥–æ –∫–æ–¥–∞
2. **Main —ç–∫—Ä–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω:**
   - –ü–µ—Ä–µ–Ω–µ—Å—ë–Ω –≤ `com.practicum.playlistmaker.main.ui.MainActivity`
   - –î–æ–±–∞–≤–ª–µ–Ω ViewBinding
   - –£–ø—Ä–æ—â—ë–Ω –∫–æ–¥ (—É–±—Ä–∞–Ω—ã findViewById, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã Intent)
   - AndroidManifest –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏–ª—Å—è
   - ViewModel –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å (—Ç–∞–º —Ç–æ–ª—å–∫–æ –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –Ω–µ—Ç –ª–æ–≥–∏–∫–∏)
3. **–ó–∞–∫–æ–º–º–∏—á–µ–Ω—ã** –Ω–∞—á–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Settings (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã SettingsRepository –∏ SettingsInteractor)

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å TODO:

- [‚úÖ] –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Settings
- [‚úÖ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Main –Ω–∞ MVVM (–ø–æ —Ñ–∏—á–∞–º)
- [üîÑ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Settings –Ω–∞ MVVM (–ø–æ —Ñ–∏—á–∞–º) **‚Üê –¢–ï–ö–£–©–ê–Ø –ó–ê–î–ê–ß–ê**
- [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Sharing –Ω–∞ MVVM (–ø–æ —Ñ–∏—á–∞–º)
- [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Search –Ω–∞ MVVM (–ø–æ —Ñ–∏—á–∞–º)
- [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Player –Ω–∞ MVVM (–ø–æ —Ñ–∏—á–∞–º)
- [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ MediaLibrary –Ω–∞ MVVM (–ø–æ —Ñ–∏—á–∞–º)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

## –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–ø–æ —Ñ–∏—á–∞–º):

```
com.practicum.playlistmaker/
‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îÇ       ‚îî‚îÄ‚îÄ MainActivity.kt ‚úÖ –ì–û–¢–û–í–û
‚îú‚îÄ‚îÄ settings/
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îú‚îÄ‚îÄ sharing/
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îú‚îÄ‚îÄ search/
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îú‚îÄ‚îÄ player/
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îî‚îÄ‚îÄ medialibrary/
    ‚îú‚îÄ‚îÄ data/
    ‚îú‚îÄ‚îÄ domain/
    ‚îî‚îÄ‚îÄ ui/
```

## –ü—Ä–æ–±–ª–µ–º—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –≤ Settings:

### –§–∞–π–ª—ã Settings (–¥—É–±–ª–∏ –∏ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ):

**UI —Å–ª–æ–π:**
- `ui/settings/activity/SettingsActivity.kt` ‚Äî –∞–∫—Ç—É–∞–ª—å–Ω—ã–π
- `ui/settings/view_model/SettingsViewModel.kt` ‚Äî –∞–∫—Ç—É–∞–ª—å–Ω—ã–π (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç domain.settings.SettingsInteractor)

**Domain —Å–ª–æ–π (–î–£–ë–õ–ò!):**
- `domain/SettingsRepository.kt` ‚Äî **–ù–û–í–´–ô** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–º–µ—Ç–æ–¥—ã: getThemeSettings(), updateThemeSetting() —Å –º–æ–¥–µ–ª—å—é ThemeSettings)
- `domain/api/SettingsRepository.kt` ‚Äî **–°–¢–ê–†–´–ô** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–º–µ—Ç–æ–¥—ã: getDarkTheme(), saveDarkTheme() —Å Boolean)
- `domain/settings/SettingsInteractor.kt` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–Ω–æ–≤—ã–π, —Å ThemeSettings)
- `domain/settings/impl/SettingsInteractorImpl.kt` ‚Äî **–ü–£–°–¢–û–ô –ö–õ–ê–°–°** (–Ω–µ –¥–æ–¥–µ–ª–∞–Ω–æ)
- `domain/settings/model/ThemeSettings.kt` ‚Äî –º–æ–¥–µ–ª—å

**Data —Å–ª–æ–π (–î–£–ë–õ–ò!):**
- `data/repository/SettingsRepositoryImpl.kt` ‚Äî —Å—Ç–∞—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Creator!)
- `data/settings/impl/SettingsRepositoryImpl.kt` ‚Äî –Ω–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è?

### –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Creator (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏):
```
Creator.kt –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- domain.api.SettingsRepository (–°–¢–ê–†–´–ô –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- data.repository.SettingsRepositoryImpl (–°–¢–ê–†–ê–Ø —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
```

## –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ Settings (–ø–æ—à–∞–≥–æ–≤—ã–π):

**–®–∞–≥ 1: –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è**
- –ò–∑—É—á–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã Settings
- –ü–æ–Ω—è—Ç—å –∫–∞–∫–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ, –∫–∞–∫–∏–µ –¥—É–±–ª–∏
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ

**–®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫**
- –°–æ–∑–¥–∞—Ç—å `settings/data/`, `settings/domain/`, `settings/ui/`
- –ù–∏—á–µ–≥–æ –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å, –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç—ã–µ –ø–∞–ø–∫–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

**–®–∞–≥ 3: –ü–µ—Ä–µ–Ω–æ—Å UI-—Å–ª–æ—è**
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ SettingsActivity –≤ `settings/ui/activity/`
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ SettingsViewModel –≤ `settings/ui/view_model/`
- –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã
- –û–±–Ω–æ–≤–∏—Ç—å AndroidManifest –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

**–®–∞–≥ 4: –ü–µ—Ä–µ–Ω–æ—Å Domain-—Å–ª–æ—è**
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ `settings/domain/`
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ –≤ `settings/domain/model/`
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ impl –≤ `settings/domain/impl/`
- –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

**–®–∞–≥ 5: –ü–µ—Ä–µ–Ω–æ—Å Data-—Å–ª–æ—è**
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ Repository impl –≤ `settings/data/`
- –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã
- –û–±–Ω–æ–≤–∏—Ç—å Creator
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

**–®–∞–≥ 6: –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–µ–π**
- –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:

1. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –∏–º–ø–æ—Ä—Ç–∞–º–∏** ‚Äî –ø–æ—Å–ª–µ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –º–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∏–º–ø–æ—Ä—Ç–∞–º–∏. –ü—Ä–∏–º–µ—Ä: SharingInteractorImpl –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª ExternalNavigator –∏–∑ data –≤–º–µ—Å—Ç–æ domain.

2. **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
   - Domain –ù–ï –∑–∞–≤–∏—Å–∏—Ç –æ—Ç Data
   - Domain –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
   - Data —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–∑ Domain

3. **–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞** –¥–µ–ª–∞—Ç—å Build (Ctrl+F9) –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

4. **–ö–æ–º–º–∏—Ç–∏—Ç—å** –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞

## –°–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. –ù–∞—á–∞—Ç—å –®–∞–≥ 1 –¥–ª—è Settings ‚Äî –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ
3. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ –ø–ª–∞–Ω—É
